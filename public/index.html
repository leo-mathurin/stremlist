<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Stremlist - IMDb Watchlist for Stremio</title>
    <meta name="description" content="Connect your IMDb watchlist directly to Stremio. A free addon that syncs your IMDb watchlist with Stremio's streaming platform.">
    <meta name="keywords" content="IMDb, Stremio, watchlist, streaming, movies, TV shows, addon">
    <meta name="robots" content="index, follow">
    <meta name="author" content="Stremlist">
    <link rel="canonical" href="https://stremlist.com/" />
    
    <!-- Open Graph / Facebook -->
    <meta property="og:type" content="website">
    <meta property="og:url" content="https://stremlist.com/">
    <meta property="og:title" content="Stremlist - IMDb Watchlist for Stremio">
    <meta property="og:description" content="Connect your IMDb watchlist directly to Stremio. Free addon that syncs your favorites with Stremio.">
    <meta property="og:image" content="https://stremlist.com/og-image.png">
    
    <!-- Twitter -->
    <meta property="twitter:card" content="summary_large_image">
    <meta property="twitter:url" content="https://stremlist.com/">
    <meta property="twitter:title" content="Stremlist - IMDb Watchlist for Stremio">
    <meta property="twitter:description" content="Connect your IMDb watchlist directly to Stremio. Free addon that syncs your favorites with Stremio.">
    <meta property="twitter:image" content="https://stremlist.com/og-image.png">
    
    <link rel="stylesheet" href="css/style.css">
    <link rel="icon" href="favicon.ico" type="image/x-icon">
    <link rel="apple-touch-icon" href="apple-touch-icon.png">
    <script>
        // Add a class to body if this is the configure page
        document.addEventListener('DOMContentLoaded', function() {
            if (window.location.pathname === '/configure' || window.location.pathname.includes('/configure')) {
                document.body.classList.add('configure-page');
            }
        });
    </script>
</head>
<body>
    <div class="container">
        <header>
            <img src="icon.png" alt="Stremlist Logo" class="logo" width="64" height="64">
            <h1>Stremlist</h1>
        </header>

        <main>
            <section class="description">
                <h2>Connect IMDb to Stremio</h2>
                <p>Stremlist brings your IMDb watchlist directly into Stremio.</p>
                <p>Enter your IMDb User ID below to access your watchlist in Stremio.</p>
            </section>

            <section class="form-container">
                <form id="config-form">
                    <div class="form-group">
                        <label for="imdb-id">IMDb User ID:</label>
                        <div class="input-help">
                            <input type="text" id="imdb-id" name="imdb-id" required placeholder="ur12345678" aria-describedby="id-instructions">
                            <div class="input-instructions" id="id-instructions">
                                Your IMDb User ID starts with "ur" and can be found in your IMDb profile URL.<br>
                                Example: In https://www.imdb.com/user/ur12345678/watchlist, the ID is ur12345678.
                            </div>
                        </div>
                    </div>

                    <!-- Installation options will appear here when a valid ID is entered -->
                    <div id="installation-options" class="hidden">
                        <!-- This will be populated by JavaScript when a valid ID is entered -->
                    </div>
                </form>
            </section>

            <section class="instructions">
                <h2>How it works</h2>
                <div class="workflow-container">
                    <div class="workflow-step">
                        <div class="step-icon" aria-hidden="true">1</div>
                        <div class="step-content">
                            <h3>Enter your IMDb ID</h3>
                            <p>Provide your IMDb User ID to connect your watchlist</p>
                        </div>
                    </div>
                    <div class="workflow-step">
                        <div class="step-icon" aria-hidden="true">2</div>
                        <div class="step-content">
                            <h3>Install in Stremio</h3>
                            <p>Choose your preferred installation method</p>
                        </div>
                    </div>
                    <div class="workflow-step">
                        <div class="step-icon" aria-hidden="true">3</div>
                        <div class="step-content">
                            <h3>Enjoy your watchlist</h3>
                            <p>Access your IMDb watchlist directly in Stremio</p>
                        </div>
                    </div>
                </div>
                <script>
                    document.addEventListener('DOMContentLoaded', function() {
                        const directUrlEl = document.getElementById('direct-url');
                        const copyDirectUrlBtn = document.getElementById('copy-direct-url');
                        
                        // Set the direct URL using current host
                        const host = window.location.hostname === 'localhost' || window.location.hostname === '127.0.0.1' 
                            ? `${window.location.hostname}:${window.location.port}`
                            : window.location.host;
                        directUrlEl.textContent = `http://${host}/manifest.json`;
                        
                        // Copy button functionality
                        copyDirectUrlBtn.addEventListener('click', function() {
                            // Store the original IMDb ID input value
                            const imdbIdInput = document.getElementById('imdb-id');
                            const originalValue = imdbIdInput ? imdbIdInput.value : '';
                            
                            // Use the Clipboard API for copying
                            navigator.clipboard.writeText(directUrlEl.textContent)
                                .then(() => {
                                    this.textContent = 'Copied!';
                                    setTimeout(() => {
                                        this.textContent = 'Copy';
                                    }, 2000);
                                    
                                    // Make sure IMDb ID still has its value
                                    if (imdbIdInput) imdbIdInput.value = originalValue;
                                })
                                .catch(err => {
                                    console.error('Could not copy text: ', err);
                                    // Try fallback method
                                    try {
                                        const tempInput = document.createElement('input');
                                        tempInput.value = directUrlEl.textContent;
                                        document.body.appendChild(tempInput);
                                        tempInput.select();
                                        document.execCommand('copy');
                                        document.body.removeChild(tempInput);
                                        
                                        this.textContent = 'Copied!';
                                        setTimeout(() => {
                                            this.textContent = 'Copy';
                                        }, 2000);
                                        
                                        // Make sure IMDb ID still has its value
                                        if (imdbIdInput) imdbIdInput.value = originalValue;
                                    } catch (e) {
                                        console.error('Fallback copy failed:', e);
                                    }
                                });
                        });
                    });
                </script>
            </section>
            
            <section class="how-it-works">
                <h2>What happens behind the scenes</h2>
                <div class="process-steps">
                    <div class="step">
                        <span class="step-number" aria-hidden="true">1</span>
                        <p>When you add this addon to Stremio, it securely retrieves your public IMDb watchlist data</p>
                    </div>
                    <div class="step">
                        <span class="step-number" aria-hidden="true">2</span>
                        <p>Your watchlist is converted into a format that Stremio can understand and display</p>
                    </div>
                    <div class="step">
                        <span class="step-number" aria-hidden="true">3</span>
                        <p>The addon automatically checks for updates to your watchlist every 30 minutes</p>
                    </div>
                    <div class="step">
                        <span class="step-number" aria-hidden="true">4</span>
                        <p>Everything happens in real-time – no data is stored permanently, protecting your privacy</p>
                    </div>
                </div>
            </section>
            
            <section class="troubleshooting">
                <h2>Troubleshooting</h2>
                <p>If you experience any issues:</p>
                <ul>
                    <li>Make sure your IMDb watchlist is public</li>
                    <li>Try using Stremio Web instead of Stremio Desktop</li>
                    <li>If Stremio shows "Failed to fetch," try restarting Stremio after adding the addon</li>
                    <li>Ensure your IMDb ID starts with "ur" and is entered correctly</li>
                </ul>
            </section>
        </main>

        <footer>
            <p>Have questions or suggestions? Contact me at <a href="mailto:lelemathrin69@gmail.com" class="email-link">lelemathrin69@gmail.com</a></p>
            <p class="footer-text">This addon is not affiliated with IMDb or Stremio. It's a community project.</p>
            <p><a href="https://ko-fi.com/lelemathrin" target="_blank" class="kofi-link" rel="noopener">❤️ Like this project? Buy me a coffee</a></p>
            <p>&copy; 2025 - IMDb Watchlist for Stremio</p>
        </footer>
    </div>

    <!-- Schema.org markup for Google -->
    <script type="application/ld+json">
    {
      "@context": "https://schema.org",
      "@type": "SoftwareApplication",
      "name": "Stremlist",
      "description": "Connect your IMDb watchlist directly to Stremio streaming platform",
      "applicationCategory": "Entertainment",
      "operatingSystem": "Any",
      "offers": {
        "@type": "Offer",
        "price": "0",
        "priceCurrency": "USD"
      }
    }
    </script>

    <script src="js/script.js"></script>
</body>
</html> 